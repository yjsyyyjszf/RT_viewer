(this.webpackJsonpuntitled2=this.webpackJsonpuntitled2||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){e.exports=n.p+"static/media/RTStructure103.394dd456.txt"},19:function(e,t,n){e.exports=n(27)},24:function(e,t,n){},25:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(18),i=n.n(o),r=(n(24),n(5)),c=n(6),m=n(11),d=n(10),u=(n(25),n(26),n(4)),s=n(1),p=n(2),v=n(7),E=n(3),g=n(8),x=n.n(g),f=n(9),y=n.n(f);n(16);var h=function(e){try{document.getElementById("patient").textContent="Patient ID : "+e.data.string("x00100020"),document.getElementById("topleft").textContent="Patient Name : "+e.data.string("x00100010")+"\nPatient Sex : "+e.data.string("x00100040"),document.getElementById("topright").textContent="Modality : "+e.data.string("x00080060"),document.getElementById("modality").textContent="Modality : "+e.data.string("x00080060"),document.getElementById("studyUID").textContent="Study UID : "+e.data.string("x0020000d"),document.getElementById("seriesUID").textContent="Series UID : "+e.data.string("x0020000e"),document.getElementById("instanceUID").textContent="Instance UID : "+e.data.string("x00080018"),document.getElementById("frameUID").textContent="Frame of Reference UID : "+e.data.string("x00200052"),document.getElementById("imageOrientation").textContent="Image Orientation : "+e.data.string("x00200037"),document.getElementById("pixelSpacing").textContent="Pixel Spacing : "+e.data.string("x00280030"),document.getElementById("imagePosition").textContent="Image Position : "+e.data.string("x00200032")}catch(t){alert("parsing error")}};var I,C=function(e){var t=e.data.string("x00200032").split("\\"),n=10*parseFloat(t[0])/10,a=10*parseFloat(t[1])/10,l=10*parseFloat(t[2])/10,o=e.data.string("x00200037"),i=(o=o.toString()).split("\\"),r=10*parseFloat(i[0])/10,c=10*parseFloat(i[1])/10,m=10*parseFloat(i[2])/10,d=10*parseFloat(i[3])/10,u=10*parseFloat(i[4])/10,p=10*parseFloat(i[5])/10,v=e.data.string("x00280030"),E=(v=v.toString()).split("\\"),g=parseFloat(10*E[0])/10,x=parseFloat(10*E[1])/10,f=document.getElementById("dicomImage");return document.getElementById("Sxyz").textContent="Sx : "+n+", Sy : "+a+", Sz : "+l,document.getElementById("Xxyz").textContent="Xx : "+r+", Xy : "+c+", Xz : "+m,document.getElementById("Yxyz").textContent="Yx : "+d+", Yy : "+u+", Yz : "+p,document.getElementById("Dij").textContent="Di : "+g+", Dj : "+x,f.addEventListener("mousemove",(function(e){var t=s.pageToPixel(f,e.pageX,e.pageY);document.getElementById("coords").textContent="pageX="+e.pageX+", pageY="+e.pageY+", pixelX="+t.x+", pixelY="+t.y;var o=r*g*t.x+d*x*t.y+n,i=c*g*t.x+u*x*t.y+a,v=m*g*t.x+p*x*t.y+l;o=Math.floor(10*o)/10,i=Math.floor(10*i)/10,v=Math.floor(10*v)/10,document.getElementById("voxelCoords").textContent="Px = "+o+", Py = "+i+", Pz = "+v})),f.addEventListener("dblclick",(function(e){var t=s.pageToPixel(f,e.pageX,e.pageY);document.getElementById("pixelValue").textContent="pageX="+e.pageX+", pageY="+e.pageY+", pixelX="+t.x+", pixelY="+t.y;var o=r*g*t.x+d*x*t.y+n,i=c*g*t.x+u*x*t.y+a,v=m*g*t.x+p*x*t.y+l;o=Math.floor(10*o)/10,i=Math.floor(10*i)/10,v=Math.floor(10*v)/10,document.getElementById("voxelValue").textContent="Px = "+o+", Py = "+i+", Pz = "+v})),[n,a,g,x]};var b=function(e){I=String();var t=new XMLHttpRequest;return t.open("GET",e,!1),t.onreadystatechange=function(){if(4===t.readyState&&(200===t.status||0==t.status)){var e=t.responseText;I=e}},t.send(null),I};var w=function(e){var t=b(n(17)).split("\\"),a=[],l=[],o=[];document.getElementById("str").textContent="str : "+t;for(var i=0;i<t.length;i++)i%3===0?a[i]=t[i]:i%3===1?l[i]=t[i]:i%3===2&&(o[i]=t[i]);document.getElementById("vPx").textContent="vPx : "+a,document.getElementById("vPy").textContent="vPy : "+l;for(var r=C(e),c=r[0],m=r[1],d=r[2],u=r[3],s=[],p=[],v=0;v<t.length;v++)v%3===0?s[v]=Math.floor((a[v]-c)/d*10)/10:v%3===1&&(p[v]=Math.floor((l[v]-m)/u*10)/10);return document.getElementById("vPx").textContent="vPx : "+a,document.getElementById("vPy").textContent="vPy : "+l,document.getElementById("pi").textContent="Pi : "+s,document.getElementById("pj").textContent="Pj : "+p,[s,p]};E.external.cornerstone=s,E.external.dicomParser=y.a,p.external.cornerstone=s,p.external.Hammer=x.a,p.external.cornerstoneMath=v,p.init();var P,k,B;document.getElementById("dicomImage");function M(e){var t=document.getElementById("dicomImage");return s.enable(t),s.loadImage(e).then((function(e){var a=s.getDefaultViewportForImage(t,e);s.displayImage(t,e,a),h(e),C(e),b(n(17)),w(e),P=e})),P}E.external.cornerstone=s,E.external.dicomParser=y.a,p.external.cornerstone=s,p.external.Hammer=x.a,p.external.cornerstoneMath=v,p.init();var O=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.element;e.addEventListener("mousedown",(function(t){var n=t.pageX,a=t.pageY,l=t.which;function o(t){var o=t.pageX-n,i=t.pageY-a;if(n=t.pageX,a=t.pageY,1===l){var r=s.getViewport(e);r.voi.windowWidth+=o/r.scale,r.voi.windowCenter+=i/r.scale,s.setViewport(e,r),document.getElementById("bottomleft").textContent="WW/WC:"+Math.round(r.voi.windowWidth)+"/"+Math.round(r.voi.windowCenter)}else if(2===l){var c=s.getViewport(e);c.translation.x+=o/c.scale,c.translation.y+=i/c.scale,s.setViewport(e,c)}else if(3===l){var m=s.getViewport(e);m.scale+=i/100,s.setViewport(e,m),document.getElementById("bottomright").textContent="Zoom:"+m.scale+"x"}}document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))}))}},{key:"reductionOn",value:function(){this.element.style.width="256px",this.element.style.height="256px",s.resize(this.element)}},{key:"expansionOn",value:function(){this.element.style.width="512px",this.element.style.height="512px",s.resize(this.element)}},{key:"invertOn",value:function(){var e=s.getViewport(this.element);e.invert=!e.invert,s.setViewport(this.element,e)}},{key:"interpolationOn",value:function(){var e=s.getViewport(this.element);e.pixelReplication=!e.pixelReplication,s.setViewport(this.element,e)}},{key:"hflipOn",value:function(){var e=s.getViewport(this.element);e.hflip=!e.hflip,s.setViewport(this.element,e)}},{key:"vflipOn",value:function(){var e=s.getViewport(this.element);e.vflip=!e.vflip,s.setViewport(this.element,e)}},{key:"rotateOn",value:function(){var e=s.getViewport(this.element);e.rotation+=90,s.setViewport(this.element,e)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"outsideWrapper",className:"outsideWrapper"},l.a.createElement("div",null,"File Select =>",l.a.createElement("input",{type:"file",onChange:function(e){!function(e){e.stopPropagation(),e.preventDefault(),M(E.wadouri.fileManager.add(e.target.files[0]))}(e)}}),"\xa0\xa0"),l.a.createElement("div",null,"Directory Select =>",l.a.createElement("input",{type:"file",id:"filepicker",name:"fileList",webkitdirectory:"",directory:"",multiple:!0,onChange:function(e){!function(e){for(var t=[],n=document.getElementById("listing"),a=e.target.files,l=0;l<a.length;l++){var o=document.createElement("li");o.innerHTML=a[l].webkitRelativePath,n.appendChild(o)}for(var i=0;i<119;i++)t[i]=E.wadouri.fileManager.add(e.target.files[i]);M(t[74])}(e)}})),l.a.createElement("ul",{id:"listing"}),l.a.createElement("button",{onClick:function(){M("dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.11.dcm")}},"TEST"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){!function(){var e=p.AngleTool;p.addTool(e),p.setToolActive("Angle",{mouseButtonMask:1})}()}},"Angle"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){!function(){var e=p.LengthTool;p.addTool(e),p.setToolActive("Length",{mouseButtonMask:1})}()}},"Length"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){!function(){var e=p.EllipticalRoiTool;p.addTool(e),p.setToolActive("EllipticalRoi",{mouseButtonMask:1})}()}},"Circle"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){!function(){var e=p.RectangleRoiTool;p.addTool(e),p.setToolActive("RectangleRoi",{mouseButtonMask:1})}()}},"Rectangle"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){!function(){var e=p.EraserTool;p.addTool(e),p.setToolActive("Eraser",{mouseButtonMask:1})}()}},"Erase"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.reductionOn()}},"256x256"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.expansionOn()}},"512x512"),"\xa0\xa0"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){e.invertOn()}},"Toggle Invert"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.interpolationOn()}},"Toggle Interpolation"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.hflipOn()}},"Horizontal Flip"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.vflipOn()}},"Vertical Flip"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.rotateOn()}},"Rotate 90"),"\xa0\xa0"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){!function(){var e=w(P),t=e[0],n=e[1];k=document.getElementById("myCanvas"),(B=k.getContext("2d")).beginPath(),B.moveTo(t[0],n[1]);for(var a=1;a<=3*t.length;a++)a%3===0&&B.lineTo(t[a],n[a+1]);B.closePath(),B.stroke(),B.fillStyle="#00fefe",B.globalAlpha=.5,B.fill()}()}},"draw")),l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,"Left click drag - window/level"),l.a.createElement("li",null,"Middle Mouse button drag - pan"),l.a.createElement("li",null,"Right click drag - zoom"),l.a.createElement("li",null,"Mouse wheel - scroll images"),l.a.createElement("li",null,"Double Click - save pixel/voxel"))),l.a.createElement("div",{id:"dicomImageWrapper",className:"wrapper",onContextMenu:"return false",onWheel:function(e){}},l.a.createElement("div",{id:"dicomImage",className:"viewportElement",ref:function(t){e.element=t}},l.a.createElement("canvas",{id:"myCanvas",className:"canvas",width:512,height:512})),l.a.createElement("div",Object(u.a)({id:"topleft",className:"overlay"},"className","topleft"),"Patient Name: Patient Sex:"),l.a.createElement("div",Object(u.a)({id:"topright",className:"overlay"},"className","topright"),"Modality :"),l.a.createElement("div",Object(u.a)({id:"bottomleft",className:"overlay"},"className","bottomleft"),"WW/WC:"),l.a.createElement("div",Object(u.a)({id:"bottomright",className:"overlay"},"className","bottomright"),"Zoom:")),l.a.createElement("div",null,l.a.createElement("span",{id:"coords"})),l.a.createElement("div",null,l.a.createElement("span",{id:"voxelCoords"},"voxel")),l.a.createElement("div",null,l.a.createElement("span",{id:"pixelValue"})),l.a.createElement("div",null,l.a.createElement("span",{id:"voxelValue"})),l.a.createElement("div",null,l.a.createElement("span",{id:"patient"},"Patient ID : ")),l.a.createElement("div",null,l.a.createElement("span",{id:"modality"},"Modality : ")),l.a.createElement("br",null),l.a.createElement("div",{id:"info"},l.a.createElement("div",null,l.a.createElement("span",{id:"studyUID"},"Study UID :")),l.a.createElement("div",null,l.a.createElement("span",{id:"seriesUID"},"Series UID :")),l.a.createElement("div",null,l.a.createElement("span",{id:"instanceUID"},"Instance UID : ")),l.a.createElement("div",null,l.a.createElement("span",{id:"frameUID"},"Frame of Reference UID : "))),l.a.createElement("br",null),l.a.createElement("div",{id:"voxel"},l.a.createElement("div",null,l.a.createElement("span",{id:"imageOrientation"},"Image Orientation :")),l.a.createElement("div",null,l.a.createElement("span",{id:"pixelSpacing"},"Pixel Spacing :")),l.a.createElement("div",null,l.a.createElement("span",{id:"imagePosition"},"Image Position : "))),l.a.createElement("br",null),l.a.createElement("div",{id:"voxelCal"},l.a.createElement("div",null,l.a.createElement("span",{id:"Sxyz"})),l.a.createElement("div",null,l.a.createElement("span",{id:"Xxyz"})),l.a.createElement("div",null,l.a.createElement("span",{id:"Yxyz"})),l.a.createElement("div",null,l.a.createElement("span",{id:"Dij"}))),l.a.createElement("br",null),l.a.createElement("div",{id:"pixelCal"},l.a.createElement("div",null,l.a.createElement("span",{id:"struct"},"Struct :")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{id:"str"},"str :")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{id:"vPx"},"vPx : ")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{id:"vPy"},"vPy : "))),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{id:"contour"},"contour data :")),l.a.createElement("div",{id:"point"},l.a.createElement("div",{id:"pi"},"Pi : "),l.a.createElement("br",null),l.a.createElement("div",{id:"pj"},"Pj : ")),l.a.createElement("br",null)," ",l.a.createElement("br",null)," ",l.a.createElement("br",null)," ",l.a.createElement("br",null))}}]),n}(l.a.Component),T=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,null))}}]),n}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.156decb9.chunk.js.map