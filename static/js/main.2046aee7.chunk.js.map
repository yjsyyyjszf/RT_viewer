{"version":3,"sources":["logo.svg","CornerStone/dicomParse.js","CornerStone/loadImage.js","CornerStone/canvas.js","CornerStone/MainUI.js","CornerStone/buttonEventFunction.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","dicomParse","image","document","getElementById","textContent","data","string","ex","alert","cornerstoneWadoImageLoader","cornerstone","dicomParser","cornerstoneTools","Hammer","cornerstoneMath","handleFileChange","e","imageId","el","then","viewport","addEventListener","event","pixelCoords","pageX","pageY","x","y","loadImage","fileManager","add","target","files","draw1","ctx","getContext","beginPath","rect","fillStyle","globalAlpha","fill","closePath","draw2","draw3","draw4","arc","Math","PI","MainUIElements","element","this","lastX","lastY","mouseButton","which","mouseMoveHandler","deltaX","deltaY","voi","windowWidth","scale","windowCenter","round","translation","mouseUpHandler","removeEventListener","style","width","height","invert","pixelReplication","hflip","vflip","rotation","id","className","type","onChange","onClick","AngleTool","mouseButtonMask","angleOn","LengthTool","lengthOn","EllipticalRoiTool","drawCircle","RectangleRoiTool","drawRectangle","EraserTool","eraserOn","reductionOn","expansionOn","invertOn","interpolationOn","hflipOn","vflipOn","rotateOn","onContextMenu","onmousedown","ref","input","React","Component","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.2046aee7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","//dicom data\r\n\r\nimport React from \"react\";\r\n\r\nfunction dicomParse(image){\r\n    try {\r\n        // print the patient's name,ID,Sex\r\n        document.getElementById('patient').textContent = 'Patient ID : '+image.data.string('x00100020');\r\n        document.getElementById('topleft').textContent = 'Patient Name : ' + image.data.string('x00100010')+'\\n'+'Patient Sex : ' + image.data.string('x00100040');\r\n        document.getElementById('topright').textContent = 'Modality : ' + image.data.string('x00080060');\r\n        document.getElementById('modality').textContent = 'Modality : ' + image.data.string('x00080060');\r\n\r\n        document.getElementById('studyUID').textContent = 'Study UID : '+image.data.string('x0020000d');\r\n        document.getElementById('seriesUID').textContent = 'Series UID : ' + image.data.string('x0020000e');\r\n        document.getElementById('instanceUID').textContent = 'Instance UID : ' + image.data.string('x00080018');\r\n        document.getElementById('frameUID').textContent = 'Frame of Reference UID : ' + image.data.string('x00200052');\r\n\r\n    }catch(ex) {\r\n        alert('parsing error');\r\n    }\r\n}\r\n\r\nexport default dicomParse;\r\n","import dicomParse from \"./dicomParse\";\r\nimport dicomParser from \"dicom-parser\";\r\n\r\nimport Hammer from \"hammerjs\";\r\nimport * as cornerstone from \"cornerstone-core\";\r\nimport * as cornerstoneTools from \"cornerstone-tools\";\r\nimport * as cornerstoneMath from \"cornerstone-math\"\r\nimport * as cornerstoneWadoImageLoader from \"cornerstone-wado-image-loader\"\r\n\r\ncornerstoneWadoImageLoader.external.cornerstone = cornerstone\r\ncornerstoneWadoImageLoader.external.dicomParser = dicomParser\r\ncornerstoneTools.external.cornerstone = cornerstone\r\ncornerstoneTools.external.Hammer = Hammer;\r\ncornerstoneTools.external.cornerstoneMath = cornerstoneMath\r\ncornerstoneTools.init();\r\n\r\nfunction handleFileChange(e) {\r\n    const imageId = cornerstoneWadoImageLoader.wadouri.fileManager.add(e.target.files[0])\r\n    loadImage(imageId)\r\n\r\n}\r\n\r\n//cornerstone으로 image load\r\nfunction loadImage(imageId) {\r\n    let el = document.getElementById('dicomImage');\r\n\r\n    cornerstone.enable(el)\r\n    cornerstone.loadImage(imageId).then(function (image) {\r\n        const viewport = cornerstone.getDefaultViewportForImage(el, image);\r\n        cornerstone.displayImage(el, image, viewport);\r\n\r\n        dicomParse(image);\r\n\r\n    });\r\n\r\n    el.addEventListener('mousemove', function (event) {\r\n        const pixelCoords = cornerstone.pageToPixel(el, event.pageX, event.pageY);\r\n        document.getElementById('coords').textContent = \"pageX=\" + event.pageX + \", pageY=\" + event.pageY + \", pixelX=\" + pixelCoords.x + \", pixelY=\" + pixelCoords.y;\r\n    });\r\n\r\n\r\n}\r\nexport default handleFileChange\r\n","//draw ROI contouring\r\nimport MainUIElements from \"./MainUI\";\r\nfunction draw1(){\r\n    var canvas = document.getElementById(\"myCanvas\");\r\n    var  ctx=canvas.getContext(\"2d\");\r\n\r\n        ctx.beginPath();\r\n        ctx.rect(80, 60, 60, 60);\r\n        ctx.fillStyle = \"#ff0000\";\r\n        ctx.globalAlpha=0.5;\r\n\r\n        ctx.fill();\r\n        ctx.closePath();\r\n\r\n}\r\nfunction draw2(){\r\n    var canvas = document.getElementById(\"myCanvas\");\r\n    var  ctx=canvas.getContext(\"2d\");\r\n\r\n    ctx.beginPath();\r\n    ctx.rect(60, 80, 100, 60);\r\n    ctx.fillStyle = \"#00ff00\";\r\n    ctx.globalAlpha=0.5;\r\n\r\n    ctx.fill();\r\n    ctx.closePath();\r\n\r\n}\r\nfunction draw3(){\r\n    var canvas = document.getElementById(\"myCanvas\");\r\n    var  ctx=canvas.getContext(\"2d\");\r\n\r\n    ctx.beginPath();\r\n    ctx.rect(70, 90, 70, 50);\r\n    ctx.fillStyle = \"#0000ff\";\r\n    ctx.globalAlpha=0.5;\r\n\r\n    ctx.fill();\r\n    ctx.closePath();\r\n\r\n}\r\nfunction draw4(){\r\n    var canvas = document.getElementById(\"myCanvas\");\r\n    var  ctx=canvas.getContext(\"2d\");\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(40, 40, 6, 0,Math.PI*2,true);\r\n    ctx.fillStyle = \"#00fefe\";\r\n    ctx.globalAlpha=0.5;\r\n\r\n    ctx.fill();\r\n    ctx.closePath();\r\n\r\n}\r\nfunction cursor(event){\r\n    var canvas = document.getElementById(\"myCanvas\");\r\n    var  ctx=canvas.getContext(\"2d\");\r\n\r\n        ctx.beginPath();\r\n        ctx.arc(event.pageX, event.pageY, 15, 0,Math.PI*2,true);\r\n        ctx.fillStyle=\"#ff0000\";\r\n\r\n}\r\n\r\nexport {cursor,draw1,draw2,draw3,draw4}\r\n","import React from \"react\";\r\nimport * as cornerstone from \"cornerstone-core\";\r\nimport * as cornerstoneTools from \"cornerstone-tools\";\r\nimport * as cornerstoneMath from \"cornerstone-math\"\r\nimport * as cornerstoneWadoImageLoader from \"cornerstone-wado-image-loader\"\r\nimport Hammer from \"hammerjs\";\r\nimport dicomParser from \"dicom-parser\"\r\nimport \"./MainUI.css\"\r\nimport { angleOn, lengthOn, eraserOn, drawCircle , drawRectangle} from \"./buttonEventFunction.js\"\r\nimport handleFileChange from './loadImage.js'\r\nimport {draw1,draw2,draw3,draw4 ,cursor }from './canvas.js'\r\n\r\ncornerstoneWadoImageLoader.external.cornerstone = cornerstone\r\ncornerstoneWadoImageLoader.external.dicomParser = dicomParser\r\ncornerstoneTools.external.cornerstone = cornerstone\r\ncornerstoneTools.external.Hammer = Hammer;\r\ncornerstoneTools.external.cornerstoneMath = cornerstoneMath\r\ncornerstoneTools.init();\r\n\r\nclass MainUIElements extends React.Component {\r\n    componentDidMount() {\r\n        const element = this.element;\r\n\r\n        element.addEventListener('dblclick',function(event){\r\n            const pixelCoords = cornerstone.pageToPixel(element, event.pageX, event.pageY);\r\n            document.getElementById('pixelValue').textContent = \"pageX=\" + event.pageX + \", pageY=\" + event.pageY + \", pixelX=\" + pixelCoords.x + \", pixelY=\" + pixelCoords.y;\r\n        });\r\n\r\n        element.addEventListener('mousedown', function (e) {\r\n            let lastX = e.pageX;\r\n            let lastY = e.pageY;\r\n            const mouseButton = e.which;\r\n\r\n            function mouseMoveHandler(e) {\r\n                const deltaX = e.pageX - lastX;\r\n                const deltaY = e.pageY - lastY;\r\n                lastX = e.pageX;\r\n                lastY = e.pageY;\r\n\r\n                if (mouseButton === 1) {\r\n                    let viewport = cornerstone.getViewport(element);\r\n                    viewport.voi.windowWidth += (deltaX / viewport.scale);\r\n                    viewport.voi.windowCenter += (deltaY / viewport.scale);\r\n                    cornerstone.setViewport(element, viewport);\r\n\r\n                    document.getElementById('bottomleft').textContent = \"WW/WC:\" + Math.round(viewport.voi.windowWidth)\r\n                        + \"/\" + Math.round(viewport.voi.windowCenter);\r\n\r\n                } else if (mouseButton === 2) {\r\n                    let viewport = cornerstone.getViewport(element);\r\n                    viewport.translation.x += (deltaX / viewport.scale);\r\n                    viewport.translation.y += (deltaY / viewport.scale);\r\n                    cornerstone.setViewport(element, viewport);\r\n\r\n                } else if (mouseButton === 3) {\r\n                    let viewport = cornerstone.getViewport(element);\r\n                    viewport.scale += (deltaY / 100);\r\n                    cornerstone.setViewport(element, viewport);\r\n                    document.getElementById('bottomright').textContent = \"Zoom:\" + viewport.scale + \"x\";\r\n                }\r\n            }\r\n\r\n            function mouseUpHandler() {\r\n                document.removeEventListener('mousemove', mouseMoveHandler);\r\n                document.removeEventListener('mouseup', mouseUpHandler);\r\n            }\r\n            document.addEventListener('mousemove', mouseMoveHandler);\r\n            document.addEventListener('mouseup', mouseUpHandler);\r\n        });\r\n    }\r\n\r\n    reductionOn(){\r\n        this.element.style.width='256px';\r\n        this.element.style.height='256px';\r\n        cornerstone.resize(this.element);\r\n    }\r\n    expansionOn(){\r\n        this.element.style.width='512px';\r\n        this.element.style.height='512px';\r\n        cornerstone.resize(this.element);\r\n    }\r\n     invertOn(){\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.invert=!viewport.invert;\r\n        cornerstone.setViewport(this.element,viewport);\r\n    }\r\n     interpolationOn(){\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.pixelReplication = !viewport.pixelReplication;\r\n        cornerstone.setViewport(this.element, viewport);\r\n    }\r\n      hflipOn(){\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.hflip = !viewport.hflip;\r\n        cornerstone.setViewport(this.element, viewport);\r\n    }\r\n     vflipOn(){\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.vflip = !viewport.vflip;\r\n        cornerstone.setViewport(this.element, viewport);\r\n    }\r\n     rotateOn() {\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.rotation += 90;\r\n        cornerstone.setViewport(this.element, viewport);\r\n    }\r\n\r\n    //렌더링\r\n    render() {\r\n        return (\r\n\r\n            <div id =\"outsideWrapper\" className={\"outsideWrapper\"}>\r\n                <input type=\"file\" onChange={(e) => {\r\n                    handleFileChange(e)\r\n                }}/>&nbsp;&nbsp;\r\n                    <div>\r\n                        <button onClick={() => {angleOn()}}>Angle</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {lengthOn()}}>Length</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {drawCircle()}}>Circle</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {drawRectangle()}}>Rectangle</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {eraserOn()}}>Erase</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.reductionOn()}}>256x256</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.expansionOn()}}>512x512</button>&nbsp;&nbsp;\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={() => {this.invertOn()}}>Toggle Invert</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.interpolationOn()}}>Toggle Interpolation</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.hflipOn()}}>Horizontal Flip</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.vflipOn()}}>Vertical Flip</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.rotateOn()}}>Rotate 90</button>&nbsp;&nbsp;\r\n                    </div>\r\n\r\n                    <div>\r\n                    <button onClick={()=>{draw1()}}>LASER</button>\r\n                    <button onClick={()=>{draw2()}}>CAL</button>\r\n                    <button onClick={()=>{draw3()}}>Spinal Cord</button>\r\n                    <button onClick={()=>{draw4()}}>BrainStem</button>\r\n                    <button onClick={()=>{draw1()}}>CTV-Brain</button>\r\n                    <button onClick={()=>{draw2()}}>Lt EyeBall</button>\r\n                    <button onClick={()=>{draw3()}}>Rt EyeBall</button>\r\n                    <button onClick={()=>{draw4()}}>Lt Parotid</button>\r\n                    <button onClick={()=>{draw1()}}>Rt Parotid</button>\r\n                    <button onClick={()=>{draw2()}}>Body</button>\r\n                    <button onClick={()=>{draw3()}}>Avoid Structure</button>\r\n                    <button onClick={()=>{draw4()}}>GTV</button>\r\n                    <button onClick={()=>{draw1()}}>PTV-G</button>\r\n                    <button onClick={()=>{draw2()}}>PTV-C</button>\r\n                    <button onClick={()=>{draw3()}}>pPTV-C</button>\r\n                    <button onClick={()=>{draw4()}}>Shell_Body</button>\r\n                    <button onClick={()=>{draw1()}}>Shell_1</button>\r\n                    <button onClick={()=>{draw2()}}>Pseudo</button>\r\n                    <button onClick={()=>{draw3()}}>Pseudo2</button>\r\n                    </div>\r\n\r\n                <div>\r\n                    <ul>\r\n                        <li>Left click drag - window/level</li>\r\n                        <li>Middle Mouse button drag - pan</li>\r\n                        <li>Right click drag - zoom</li>\r\n                        <li>Mouse wheel - scroll images</li>\r\n                    </ul>\r\n                </div>\r\n\r\n\r\n                <div id=\"dicomImageWrapper\" className=\"wrapper\"\r\n                     onContextMenu=\"return false\"\r\n                     onmousedown=\"return false\" >\r\n                        <div id=\"dicomImage\"   className=\"viewportElement\"\r\n                             ref={input => {\r\n                                 this.element = input;}}>\r\n                            <canvas id =\"myCanvas\" className={\"canvas\"} >\r\n                            </canvas>\r\n                        </div>\r\n                    <div id=\"topleft\" className=\"overlay\" className=\"topleft\">\r\n                        Patient Name:\r\n                        Patient Sex:\r\n                    </div>\r\n                    <div id=\"topright\" className=\"overlay\" className=\"topright\" word-break=\"normal\">\r\n\r\n                        Modality :\r\n                    </div>\r\n                    <div id=\"bottomleft\" className=\"overlay\" className=\"bottomleft\">\r\n                        WW/WC:\r\n                    </div>\r\n                    <div id=\"bottomright\" className=\"overlay\" className=\"bottomright\">\r\n                        Zoom:\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div><span id=\"coords\"></span></div>\r\n                <div><span id=\"pixelValue\"></span></div>\r\n                <div><span id=\"patient\">Patient ID : </span></div>\r\n                <div><span id=\"modality\">Modality : </span></div>\r\n                <br></br>\r\n                <div id =\"info\">\r\n                    <div><span id=\"studyUID\">Study UID :</span></div>\r\n                    <div><span id=\"seriesUID\">Series UID :</span></div>\r\n                    <div><span id=\"instanceUID\">Instance UID : </span></div>\r\n                    <div><span id=\"frameUID\">Frame of Reference UID : </span></div>\r\n                </div>\r\n                <br></br> <br></br> <br></br> <br></br>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainUIElements\r\n\r\n\r\n","import \"./MainUI.css\"\r\nimport \"./MainUI.js\"\r\nimport * as cornerstoneTools from \"cornerstone-tools\";\r\n\r\nexport {angleOn,lengthOn,eraserOn,drawCircle , drawRectangle}\r\n\r\n    function angleOn(){\r\n        const AngleTool = cornerstoneTools.AngleTool;\r\n        cornerstoneTools.addTool(AngleTool)\r\n        cornerstoneTools.setToolActive('Angle', { mouseButtonMask: 1 })\r\n    }\r\n\r\n    function lengthOn(){\r\n        const LengthTool = cornerstoneTools.LengthTool;\r\n        cornerstoneTools.addTool(LengthTool)\r\n        cornerstoneTools.setToolActive(\"Length\", {mouseButtonMask: 1})\r\n    }\r\n\r\n    function eraserOn(){\r\n        const EraserTool = cornerstoneTools.EraserTool;\r\n        cornerstoneTools.addTool(EraserTool);\r\n        cornerstoneTools.setToolActive(\"Eraser\", {mouseButtonMask: 1})\r\n    }\r\n\r\nfunction drawCircle(){\r\n    const EllipticalRoiTool = cornerstoneTools.EllipticalRoiTool;\r\n    cornerstoneTools.addTool(EllipticalRoiTool)\r\n    cornerstoneTools.setToolActive('EllipticalRoi', { mouseButtonMask: 1 })\r\n}\r\n\r\n\r\nfunction drawRectangle(){\r\n    const RectangleRoiTool = cornerstoneTools.RectangleRoiTool;\r\n    cornerstoneTools.addTool(RectangleRoiTool)\r\n    cornerstoneTools.setToolActive('RectangleRoi', { mouseButtonMask: 1 })\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport MainUIElements from \"./CornerStone/MainUI\";\r\n\r\nclass App extends React.Component{\r\n  render(){\r\n    return <div>\r\n      <MainUIElements />\r\n    </div>\r\n\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}