(this.webpackJsonpuntitled2=this.webpackJsonpuntitled2||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){e.exports=n.p+"static/media/RTStructure103.ae3d2af4.txt"},19:function(e,t,n){e.exports=n(27)},24:function(e,t,n){},25:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(18),i=n.n(o),r=(n(24),n(5)),c=n(6),m=n(11),d=n(10),s=(n(25),n(26),n(4)),u=n(1),p=n(2),v=n(7),E=n(3),g=n(8),x=n.n(g),f=n(9),y=n.n(f);n(16);var h=function(e){try{document.getElementById("patient").textContent="Patient ID : "+e.data.string("x00100020"),document.getElementById("topleft").textContent="Patient Name : "+e.data.string("x00100010")+"\nPatient Sex : "+e.data.string("x00100040"),document.getElementById("topright").textContent="Modality : "+e.data.string("x00080060"),document.getElementById("modality").textContent="Modality : "+e.data.string("x00080060"),document.getElementById("studyUID").textContent="Study UID : "+e.data.string("x0020000d"),document.getElementById("seriesUID").textContent="Series UID : "+e.data.string("x0020000e"),document.getElementById("instanceUID").textContent="Instance UID : "+e.data.string("x00080018"),document.getElementById("frameUID").textContent="Frame of Reference UID : "+e.data.string("x00200052"),document.getElementById("imageOrientation").textContent="Image Orientation : "+e.data.string("x00200037"),document.getElementById("pixelSpacing").textContent="Pixel Spacing : "+e.data.string("x00280030"),document.getElementById("imagePosition").textContent="Image Position : "+e.data.string("x00200032")}catch(t){alert("parsing error")}};var I=function(e){var t=e.data.string("x00200032"),n=(t=t.toString()).split("\\"),a=10*parseFloat(n[0])/10,l=10*parseFloat(n[1])/10,o=10*parseFloat(n[2])/10,i=e.data.string("x00200037"),r=(i=i.toString()).split("\\"),c=10*parseFloat(r[0])/10,m=10*parseFloat(r[1])/10,d=10*parseFloat(r[2])/10,s=10*parseFloat(r[3])/10,p=10*parseFloat(r[4])/10,v=10*parseFloat(r[5])/10,E=e.data.string("x00280030"),g=(E=E.toString()).split("\\"),x=parseFloat(10*g[0])/10,f=parseFloat(10*g[1])/10,y=document.getElementById("dicomImage");return document.getElementById("Sxyz").textContent="Sx : "+a+", Sy : "+l+", Sz : "+o,document.getElementById("Xxyz").textContent="Xx : "+c+", Xy : "+m+", Xz : "+d,document.getElementById("Yxyz").textContent="Yx : "+s+", Yy : "+p+", Yz : "+v,document.getElementById("Dij").textContent="Di : "+x+", Dj : "+f,y.addEventListener("mousemove",(function(e){var t=u.pageToPixel(y,e.pageX,e.pageY);document.getElementById("coords").textContent="pageX="+e.pageX+", pageY="+e.pageY+", pixelX="+t.x+", pixelY="+t.y;var n=c*x*t.x+s*f*t.y+a,i=m*x*t.x+p*f*t.y+l,r=d*x*t.x+v*f*t.y+o;n=Math.floor(10*n)/10,i=Math.floor(10*i)/10,r=Math.floor(10*r)/10,document.getElementById("voxelCoords").textContent="Px = "+n+", Py = "+i+", Pz = "+r})),y.addEventListener("dblclick",(function(e){var t=u.pageToPixel(y,e.pageX,e.pageY);document.getElementById("pixelValue").textContent="pageX="+e.pageX+", pageY="+e.pageY+", pixelX="+t.x+", pixelY="+t.y;var n=c*x*t.x+s*f*t.y+a,i=m*x*t.x+p*f*t.y+l,r=d*x*t.x+v*f*t.y+o;n=Math.floor(10*n)/10,i=Math.floor(10*i)/10,r=Math.floor(10*r)/10,document.getElementById("voxelValue").textContent="Px = "+n+", Py = "+i+", Pz = "+r})),[a,l,x,f]};var C,b,w=function(e){var t=P(n(17)).split("\\"),a=[],l=[],o=[];document.getElementById("str").textContent="str : "+t;for(var i=0;i<t.length;i++)i%3===0?a[i]=t[i]:i%3===1?l[i]=t[i]:i%3===2&&(o[i]=t[i]);document.getElementById("vPx").textContent="vPx : "+a,document.getElementById("vPy").textContent="vPy : "+l;for(var r=I(e),c=r[0],m=r[1],d=r[2],s=r[3],u=[],p=[],v=0;v<t.length;v++)v%3===0?u[v]=Math.floor((a[v]-c)/d*10)/10:v%3===1&&(p[v]=Math.floor((l[v]-m)/s*10)/10);return document.getElementById("vPx").textContent="vPx : "+a,document.getElementById("vPy").textContent="vPy : "+l,document.getElementById("pi").textContent="Pi : "+u,document.getElementById("pj").textContent="Pj : "+p,[u,p]};function P(e){C=String();var t=new XMLHttpRequest;return t.open("GET",e,!1),t.onreadystatechange=function(){if(4===t.readyState&&(200===t.status||0==t.status)){var e=t.responseText;C=e}},t.send(null),C}function k(e){var t=document.getElementById("dicomImage");return u.enable(t),u.loadImage(e).then((function(e){var a=u.getDefaultViewportForImage(t,e);u.displayImage(t,e,a),h(e),I(e),P(n(17)),w(e),b=e})),b}E.external.cornerstone=u,E.external.dicomParser=y.a,p.external.cornerstone=u,p.external.Hammer=x.a,p.external.cornerstoneMath=v,p.init(),E.external.cornerstone=u,E.external.dicomParser=y.a,p.external.cornerstone=u,p.external.Hammer=x.a,p.external.cornerstoneMath=v,p.init();var B=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.element;e.addEventListener("mousedown",(function(t){var n=t.pageX,a=t.pageY,l=t.which;function o(t){var o=t.pageX-n,i=t.pageY-a;if(n=t.pageX,a=t.pageY,1===l){var r=u.getViewport(e);r.voi.windowWidth+=o/r.scale,r.voi.windowCenter+=i/r.scale,u.setViewport(e,r),document.getElementById("bottomleft").textContent="WW/WC:"+Math.round(r.voi.windowWidth)+"/"+Math.round(r.voi.windowCenter)}else if(2===l){var c=u.getViewport(e);c.translation.x+=o/c.scale,c.translation.y+=i/c.scale,u.setViewport(e,c)}else if(3===l){var m=u.getViewport(e);m.scale+=i/100,u.setViewport(e,m),document.getElementById("bottomright").textContent="Zoom:"+m.scale+"x"}}document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))}))}},{key:"reductionOn",value:function(){this.element.style.width="256px",this.element.style.height="256px",u.resize(this.element)}},{key:"expansionOn",value:function(){this.element.style.width="512px",this.element.style.height="512px",u.resize(this.element)}},{key:"invertOn",value:function(){var e=u.getViewport(this.element);e.invert=!e.invert,u.setViewport(this.element,e)}},{key:"interpolationOn",value:function(){var e=u.getViewport(this.element);e.pixelReplication=!e.pixelReplication,u.setViewport(this.element,e)}},{key:"hflipOn",value:function(){var e=u.getViewport(this.element);e.hflip=!e.hflip,u.setViewport(this.element,e)}},{key:"vflipOn",value:function(){var e=u.getViewport(this.element);e.vflip=!e.vflip,u.setViewport(this.element,e)}},{key:"rotateOn",value:function(){var e=u.getViewport(this.element);e.rotation+=90,u.setViewport(this.element,e)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"outsideWrapper",className:"outsideWrapper"},l.a.createElement("input",{type:"file",multiple:"multiple",onChange:function(e){!function(e){e.stopPropagation(),e.preventDefault(),k(E.wadouri.fileManager.add(e.target.files[0]))}(e)}}),"\xa0\xa0",l.a.createElement("button",{onClick:function(){k("dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.11.dcm")}},"TEST"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){!function(){var e=p.AngleTool;p.addTool(e),p.setToolActive("Angle",{mouseButtonMask:1})}()}},"Angle"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){!function(){var e=p.LengthTool;p.addTool(e),p.setToolActive("Length",{mouseButtonMask:1})}()}},"Length"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){!function(){var e=p.EllipticalRoiTool;p.addTool(e),p.setToolActive("EllipticalRoi",{mouseButtonMask:1})}()}},"Circle"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){!function(){var e=p.RectangleRoiTool;p.addTool(e),p.setToolActive("RectangleRoi",{mouseButtonMask:1})}()}},"Rectangle"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){!function(){var e=p.EraserTool;p.addTool(e),p.setToolActive("Eraser",{mouseButtonMask:1})}()}},"Erase"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.reductionOn()}},"256x256"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.expansionOn()}},"512x512"),"\xa0\xa0"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){e.invertOn()}},"Toggle Invert"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.interpolationOn()}},"Toggle Interpolation"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.hflipOn()}},"Horizontal Flip"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.vflipOn()}},"Vertical Flip"),"\xa0\xa0",l.a.createElement("button",{onClick:function(){e.rotateOn()}},"Rotate 90"),"\xa0\xa0"),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){!function(){var e=document.getElementById("myCanvas").getContext("2d"),t=w(b),n=t[0],a=t[1];e.beginPath(),e.moveTo(n[0],a[1]);for(var l=1;l<=3*n.length;l++)l%3===0&&e.lineTo(n[l],a[l+1]);e.closePath(),e.stroke(),e.fillStyle="#00fefe",e.globalAlpha=.5,e.fill()}()}},"draw")),l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,"Left click drag - window/level"),l.a.createElement("li",null,"Middle Mouse button drag - pan"),l.a.createElement("li",null,"Right click drag - zoom"),l.a.createElement("li",null,"Mouse wheel - scroll images"),l.a.createElement("li",null,"Double Click - save pixel/voxel"))),l.a.createElement("div",{id:"dicomImageWrapper",className:"wrapper",onContextMenu:"return false"},l.a.createElement("div",{id:"dicomImage",className:"viewportElement",ref:function(t){e.element=t}},l.a.createElement("canvas",{id:"myCanvas",className:"canvas",width:512,height:512})),l.a.createElement("div",Object(s.a)({id:"topleft",className:"overlay"},"className","topleft"),"Patient Name: Patient Sex:"),l.a.createElement("div",Object(s.a)({id:"topright",className:"overlay"},"className","topright"),"Modality :"),l.a.createElement("div",Object(s.a)({id:"bottomleft",className:"overlay"},"className","bottomleft"),"WW/WC:"),l.a.createElement("div",Object(s.a)({id:"bottomright",className:"overlay"},"className","bottomright"),"Zoom:")),l.a.createElement("div",null,l.a.createElement("span",{id:"coords"})),l.a.createElement("div",null,l.a.createElement("span",{id:"voxelCoords"},"voxel")),l.a.createElement("div",null,l.a.createElement("span",{id:"pixelValue"})),l.a.createElement("div",null,l.a.createElement("span",{id:"voxelValue"})),l.a.createElement("div",null,l.a.createElement("span",{id:"patient"},"Patient ID : ")),l.a.createElement("div",null,l.a.createElement("span",{id:"modality"},"Modality : ")),l.a.createElement("br",null),l.a.createElement("div",{id:"info"},l.a.createElement("div",null,l.a.createElement("span",{id:"studyUID"},"Study UID :")),l.a.createElement("div",null,l.a.createElement("span",{id:"seriesUID"},"Series UID :")),l.a.createElement("div",null,l.a.createElement("span",{id:"instanceUID"},"Instance UID : ")),l.a.createElement("div",null,l.a.createElement("span",{id:"frameUID"},"Frame of Reference UID : "))),l.a.createElement("br",null),l.a.createElement("div",{id:"voxel"},l.a.createElement("div",null,l.a.createElement("span",{id:"imageOrientation"},"Image Orientation :")),l.a.createElement("div",null,l.a.createElement("span",{id:"pixelSpacing"},"Pixel Spacing :")),l.a.createElement("div",null,l.a.createElement("span",{id:"imagePosition"},"Image Position : "))),l.a.createElement("br",null),l.a.createElement("div",{id:"voxelCal"},l.a.createElement("div",null,l.a.createElement("span",{id:"Sxyz"})),l.a.createElement("div",null,l.a.createElement("span",{id:"Xxyz"})),l.a.createElement("div",null,l.a.createElement("span",{id:"Yxyz"})),l.a.createElement("div",null,l.a.createElement("span",{id:"Dij"}))),l.a.createElement("br",null),l.a.createElement("div",{id:"pixelCal"},l.a.createElement("div",null,l.a.createElement("span",{id:"struct"},"Struct :")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{id:"str"},"str :")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{id:"vPx"},"vPx : ")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{id:"vPy"},"vPy : "))),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("span",{id:"contour"},"contour data :")),l.a.createElement("div",{id:"point"},l.a.createElement("div",{id:"pi"},"Pi : "),l.a.createElement("br",null),l.a.createElement("div",{id:"pj"},"Pj : ")),l.a.createElement("br",null)," ",l.a.createElement("br",null)," ",l.a.createElement("br",null)," ",l.a.createElement("br",null))}}]),n}(l.a.Component),O=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(B,null))}}]),n}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.e71b34df.chunk.js.map