{"version":3,"sources":["dicomFile/RTStructure103.txt","logo.svg","main/dicomParse.js","main/pixel2voxel.js","main/openFile.js","main/voxel2pixel.js","main/loadData.js","main/MainUI.js","main/buttonEventFunction.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","dicomParse","image","document","getElementById","textContent","data","string","ex","alert","voxelCal","struct","imgPosArr","split","Sx","parseFloat","Sy","Sz","imgOri","imgOriArr","toString","Xx","Xy","Xz","Yx","Yy","Yz","pixelSpace","pixelSpaceArr","Di","Dj","el","addEventListener","event","pixelCoords","cornerstone","pageX","pageY","x","y","Px","Py","Pz","Math","floor","readTextFile","file","String","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","allText","responseText","send","pixelCal","str","require","vPx","vPy","vPz","i","length","voxel","pi","pj","cornerstoneWadoImageLoader","dicomParser","cornerstoneTools","Hammer","cornerstoneMath","img","canvas","ctx","loadData","imageId","then","viewport","MainUIElements","element","this","e","lastX","lastY","mouseButton","which","mouseMoveHandler","deltaX","deltaY","voi","windowWidth","scale","windowCenter","round","translation","mouseUpHandler","removeEventListener","style","width","height","invert","pixelReplication","hflip","vflip","rotation","id","className","type","onChange","stopPropagation","preventDefault","fileManager","add","target","files","handleFileChange","name","webkitdirectory","directory","multiple","output","item","createElement","innerHTML","webkitRelativePath","appendChild","imageIdList","onClick","AngleTool","mouseButtonMask","angleOn","LengthTool","lengthOn","EllipticalRoiTool","drawCircle","RectangleRoiTool","drawRectangle","EraserTool","eraserOn","reductionOn","expansionOn","invertOn","interpolationOn","hflipOn","vflipOn","rotateOn","px","getContext","beginPath","moveTo","lineTo","closePath","stroke","fillStyle","globalAlpha","fill","draw","onContextMenu","onWheel","ref","input","React","Component","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.156decb9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/RTStructure103.394dd456.txt\";","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","//dicom data\r\n\r\nimport React from \"react\";\r\n\r\nfunction dicomParse(image){\r\n    try {\r\n        // print the dicom information\r\n        document.getElementById('patient').textContent = 'Patient ID : '+image.data.string('x00100020');\r\n        document.getElementById('topleft').textContent = 'Patient Name : ' + image.data.string('x00100010')+'\\n'+'Patient Sex : ' + image.data.string('x00100040');\r\n        document.getElementById('topright').textContent = 'Modality : ' + image.data.string('x00080060');\r\n        document.getElementById('modality').textContent = 'Modality : ' + image.data.string('x00080060');\r\n\r\n        document.getElementById('studyUID').textContent = 'Study UID : '+image.data.string('x0020000d');\r\n        document.getElementById('seriesUID').textContent = 'Series UID : ' + image.data.string('x0020000e');\r\n        document.getElementById('instanceUID').textContent = 'Instance UID : ' + image.data.string('x00080018');\r\n        document.getElementById('frameUID').textContent = 'Frame of Reference UID : ' + image.data.string('x00200052');\r\n\r\n        document.getElementById('imageOrientation').textContent = 'Image Orientation : ' + image.data.string('x00200037');\r\n        document.getElementById('pixelSpacing').textContent = 'Pixel Spacing : ' + image.data.string('x00280030');\r\n        document.getElementById('imagePosition').textContent = 'Image Position : ' + image.data.string('x00200032');\r\n\r\n    }catch(ex) {\r\n        alert('parsing error');\r\n    }\r\n}\r\n\r\nexport default dicomParse;\r\n","import React from \"react\";\r\nimport * as cornerstone from \"cornerstone-core\";\r\n\r\n//caculate voxel from pixel\r\nfunction voxelCal(image) {\r\n    let imgPos = image.data.string('x00200032');\r\n//    imgPos = imgPos.toString();\r\n    let imgPosArr = imgPos.split(\"\\\\\");\r\n\r\n    let Sx = (parseFloat(imgPosArr[0])*10)/10;\r\n    let Sy = (parseFloat(imgPosArr[1])*10)/10;\r\n    let Sz = (parseFloat(imgPosArr[2])*10)/10;\r\n\r\n    let imgOri = image.data.string('x00200037');\r\n    imgOri=imgOri.toString();\r\n    let imgOriArr = imgOri.split(\"\\\\\");\r\n\r\n    let Xx = (parseFloat(imgOriArr[0])*10)/10;\r\n    let Xy = (parseFloat(imgOriArr[1])*10)/10;\r\n    let Xz = (parseFloat(imgOriArr[2])*10)/10;\r\n    let Yx = (parseFloat(imgOriArr[3])*10)/10;\r\n    let Yy = (parseFloat(imgOriArr[4])*10)/10;\r\n    let Yz = (parseFloat(imgOriArr[5])*10)/10;\r\n\r\n    let pixelSpace = image.data.string('x00280030');\r\n    pixelSpace=pixelSpace.toString();\r\n    let pixelSpaceArr = pixelSpace.split(\"\\\\\");\r\n\r\n    let Di = parseFloat((pixelSpaceArr[0])*10)/10;\r\n    let Dj =parseFloat((pixelSpaceArr[1])*10)/10;\r\n\r\n    let el = document.getElementById('dicomImage');\r\n\r\n    document.getElementById('Sxyz').textContent = 'Sx : ' + Sx + ', Sy : ' + Sy +', Sz : ' + Sz ;\r\n    document.getElementById('Xxyz').textContent = 'Xx : ' + Xx + ', Xy : ' + Xy + ', Xz : ' + Xz;\r\n    document.getElementById('Yxyz').textContent = 'Yx : ' + Yx + ', Yy : ' + Yy + ', Yz : ' + Yz;\r\n    document.getElementById('Dij').textContent = 'Di : ' + Di + ', Dj : ' + Dj;\r\n\r\n    el.addEventListener('mousemove', function (event) {\r\n        const pixelCoords = cornerstone.pageToPixel(el, event.pageX, event.pageY);\r\n        document.getElementById('coords').textContent = \"pageX=\" + event.pageX + \", pageY=\" + event.pageY + \", pixelX=\" + pixelCoords.x + \", pixelY=\" + pixelCoords.y;\r\n\r\n        let Px = (Xx * Di * pixelCoords.x) + ( Yx * Dj * pixelCoords.y) + Sx ;\r\n        let Py = (Xy * Di * pixelCoords.x) + ( Yy * Dj * pixelCoords.y) + Sy ;\r\n        let Pz = (Xz * Di * pixelCoords.x) + ( Yz * Dj * pixelCoords.y) + Sz ;\r\n\r\n        Px = Math.floor(Px*10)/10;\r\n        Py = Math.floor(Py*10)/10;\r\n        Pz = Math.floor(Pz*10)/10;\r\n        document.getElementById('voxelCoords').textContent = \"Px = \" + Px + \", Py = \" + Py + \", Pz = \"+ Pz ;\r\n    });\r\n\r\n    el.addEventListener('dblclick',function(event){\r\n        const pixelCoords = cornerstone.pageToPixel(el, event.pageX, event.pageY);\r\n        document.getElementById('pixelValue').textContent = \"pageX=\" + event.pageX + \", pageY=\" + event.pageY + \", pixelX=\" + pixelCoords.x + \", pixelY=\" + pixelCoords.y;\r\n\r\n        let Px = (Xx * Di * pixelCoords.x) + ( Yx * Dj * pixelCoords.y) + Sx ;\r\n        let Py = (Xy * Di * pixelCoords.x) + ( Yy * Dj * pixelCoords.y) + Sy ;\r\n        let Pz = (Xz * Di * pixelCoords.x) + ( Yz * Dj * pixelCoords.y) + Sz ;\r\n\r\n        Px = Math.floor(Px*10)/10;\r\n        Py = Math.floor(Py*10)/10;\r\n        Pz = Math.floor(Pz*10)/10;\r\n\r\n        document.getElementById('voxelValue').textContent = \"Px = \" + Px + \", Py = \" + Py + \", Pz = \"+ Pz ;\r\n    });\r\n    return [Sx,Sy,Di,Dj]\r\n}\r\n\r\nexport default voxelCal;\r\n","let struct;\r\n\r\nfunction readTextFile(file) {\r\n    struct = String();\r\n\r\n    var rawFile = new XMLHttpRequest();\r\n    rawFile.open(\"GET\", file, false);\r\n\r\n   rawFile.onreadystatechange = function () {\r\n        if(rawFile.readyState === 4)\r\n        {\r\n            if(rawFile.status === 200 || rawFile.status == 0)\r\n            {\r\n                var allText = rawFile.responseText;\r\n                struct = allText;\r\n            }\r\n        }\r\n\r\n    };\r\n    rawFile.send(null);\r\n    return struct\r\n}\r\n\r\nexport default readTextFile\r\n","import React from \"react\";\r\nimport readTextFile from \"./openFile\";\r\nimport voxelCal from \"./pixel2voxel\";\r\n\r\n//Convert Parsed contour data to Array\r\nfunction pixelCal(image){\r\n    //let str = struct.toString();\r\n\r\n    let struct = readTextFile(require('../dicomFile/RTStructure103.txt'));\r\n\r\n    let str = struct.split(\"\\\\\");\r\n\r\n    let vPx = []; //contour Data Px (voxel point x )\r\n    let vPy = []; //contour Data Py (voxel point y )\r\n    let vPz = []; //contour Data Pz (voxel point z )\r\n\r\n    document.getElementById('str').textContent = \"str : \" + str;\r\n    for(let i=0; i<str.length; i++ ){\r\n        if(i%3===0){\r\n            vPx[i]=str[i];\r\n        }\r\n        else if(i%3===1){\r\n            vPy[i]=str[i];\r\n        }\r\n        else if(i%3===2){\r\n            vPz[i]=str[i];\r\n        }\r\n    }\r\n    document.getElementById('vPx').textContent = \"vPx : \" + vPx;\r\n    document.getElementById('vPy').textContent = \"vPy : \" + vPy;\r\n\r\n    let voxel = voxelCal(image);\r\n    let Sx = voxel[0];\r\n    let Sy = voxel[1];\r\n    let Di = voxel[2];\r\n    let Dj = voxel[3];\r\n\r\n    let pi = [];\r\n    let pj = [];\r\n\r\n    //convert voxel vPx,vPy to pixel pi,pj\r\n\r\n    for( let i =0; i < str.length; i++) {\r\n        if(i%3===0) {\r\n            pi[i] = Math.floor(((vPx[i] - Sx )/ (Di)) * 10) / 10;\r\n        }\r\n        else if(i%3===1){\r\n            pj[i] = Math.floor(((vPy[i] - Sy) / (Dj))*10)/10;\r\n        }\r\n    }\r\n\r\n    document.getElementById('vPx').textContent = \"vPx : \" + vPx;\r\n    document.getElementById('vPy').textContent = \"vPy : \" + vPy;\r\n\r\n    document.getElementById('pi').textContent = \"Pi : \" + pi ;\r\n    document.getElementById('pj').textContent = \"Pj : \" + pj ;\r\n\r\n    return [pi,pj]\r\n};\r\nexport default pixelCal\r\n","import dicomParse from \"./dicomParse\";\r\nimport dicomParser from \"dicom-parser\";\r\nimport Hammer from \"hammerjs\";\r\nimport * as cornerstone from \"cornerstone-core\";\r\nimport * as cornerstoneTools from \"cornerstone-tools\";\r\nimport * as cornerstoneMath from \"cornerstone-math\"\r\nimport * as cornerstoneWadoImageLoader from \"cornerstone-wado-image-loader\"\r\nimport voxelCal from \"./pixel2voxel\";\r\nimport readTextFile from \"./openFile\";\r\nimport pixelCal from \"./voxel2pixel\";\r\n\r\ncornerstoneWadoImageLoader.external.cornerstone = cornerstone\r\ncornerstoneWadoImageLoader.external.dicomParser = dicomParser\r\ncornerstoneTools.external.cornerstone = cornerstone\r\ncornerstoneTools.external.Hammer = Hammer;\r\ncornerstoneTools.external.cornerstoneMath = cornerstoneMath\r\ncornerstoneTools.init();\r\n\r\nlet currentImageIndex = 0;\r\nlet element=document.getElementById('dicomImage');\r\n\r\n\r\nfunction imageIdList(e){\r\n    let imageId=[];\r\n    let output = document.getElementById(\"listing\");\r\n    let files = e.target.files;\r\n\r\n    for (let i=0; i<files.length; i++) {\r\n        let item = document.createElement(\"li\");\r\n        item.innerHTML = files[i].webkitRelativePath;\r\n        output.appendChild(item);\r\n    };\r\n\r\n    for(let i = 0;i<119;i++) {\r\n         imageId[i] = cornerstoneWadoImageLoader.wadouri.fileManager.add(e.target.files[i])\r\n    }\r\n    loadData(imageId[74]);\r\n}\r\n\r\n/*\r\n*  function myfunction(e){\r\n            if(e.wheelDelta <0 || e.detail>0){\r\n                if(currentImageIndex===0){\r\n                    updateTheImage(imageIds,1);\r\n                }\r\n            }\r\n            else{\r\n                if(currentImageIndex===1){\r\n                    updateTheImage(imageIds,0);\r\n                }\r\n            }\r\n        }*/\r\n\r\n\r\n\r\n\r\n\r\n/************************************************************************/\r\nfunction handleFileChange(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    const imageId = cornerstoneWadoImageLoader.wadouri.fileManager.add(e.target.files[0])\r\n    loadData(imageId);\r\n}\r\nlet img;\r\n\r\n//load one CT Image from local file\r\nfunction loadData(imageId) {\r\n    let el = document.getElementById('dicomImage');\r\n\r\n    cornerstone.enable(el)\r\n   cornerstone.loadImage(imageId).then(function (image) {\r\n        const viewport = cornerstone.getDefaultViewportForImage(el, image);\r\n        cornerstone.displayImage(el, image, viewport);\r\n\r\n        dicomParse(image);\r\n        voxelCal(image);\r\n        readTextFile(require('../dicomFile/RTStructure103.txt'));\r\n        pixelCal(image);\r\n\r\n       img = image;\r\n    });\r\n    return img;\r\n}\r\nlet canvas;\r\nlet ctx ;\r\n\r\n//draw ROI contouring from textFile\r\nfunction draw(){\r\n    let px = pixelCal(img);\r\n    let pi = px[0];\r\n    let pj = px[1];\r\n\r\n    canvas = document.getElementById(\"myCanvas\");\r\n    ctx = canvas.getContext(\"2d\");\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(pi[0],pj[1]);\r\n    for(let i=1;i<=pi.length*3;i++){\r\n        if(i%3===0) {\r\n            ctx.lineTo(pi[i], pj[i + 1]);\r\n        }\r\n    }\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    ctx.fillStyle=\"#00fefe\";\r\n    ctx.globalAlpha=0.5;\r\n    ctx.fill();\r\n}\r\n\r\n//open test file\r\nfunction handle(){\r\n    const imageId = 'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.11.dcm';\r\n    loadData(imageId);\r\n}\r\n\r\n//show file list from selected directory\r\nfunction showFileList(e){\r\n    let output = document.getElementById(\"listing\");\r\n    let files = e.target.files;\r\n\r\n    for (let i=0; i<files.length; i++) {\r\n        let item = document.createElement(\"li\");\r\n        item.innerHTML = files[i].webkitRelativePath;\r\n        output.appendChild(item);\r\n    };\r\n\r\n}\r\n\r\nexport {handleFileChange, handle,loadData,draw,showFileList,imageIdList}\r\n","import React,{Component} from \"react\";\r\nimport * as cornerstone from \"cornerstone-core\";\r\nimport * as cornerstoneTools from \"cornerstone-tools\";\r\nimport * as cornerstoneMath from \"cornerstone-math\"\r\nimport * as cornerstoneWadoImageLoader from \"cornerstone-wado-image-loader\"\r\nimport Hammer from \"hammerjs\";\r\nimport dicomParser from \"dicom-parser\"\r\nimport \"./MainUI.css\"\r\nimport { angleOn, lengthOn, eraserOn, drawCircle , drawRectangle} from \"./buttonEventFunction.js\"\r\nimport {handleFileChange, handle, draw, imageIdList,updateTheImage} from './loadData.js'\r\n\r\ncornerstoneWadoImageLoader.external.cornerstone = cornerstone\r\ncornerstoneWadoImageLoader.external.dicomParser = dicomParser\r\ncornerstoneTools.external.cornerstone = cornerstone\r\ncornerstoneTools.external.Hammer = Hammer;\r\ncornerstoneTools.external.cornerstoneMath = cornerstoneMath\r\ncornerstoneTools.init();\r\n\r\nclass MainUIElements extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        const element = this.element;\r\n\r\n\r\n            element.addEventListener('mousedown', function (e) {\r\n            let lastX = e.pageX;\r\n            let lastY = e.pageY;\r\n            const mouseButton = e.which;\r\n\r\n            function mouseMoveHandler(e) {\r\n                const deltaX = e.pageX - lastX;\r\n                const deltaY = e.pageY - lastY;\r\n                lastX = e.pageX;\r\n                lastY = e.pageY;\r\n\r\n                if (mouseButton === 1) {\r\n                    let viewport = cornerstone.getViewport(element);\r\n                    viewport.voi.windowWidth += (deltaX / viewport.scale);\r\n                    viewport.voi.windowCenter += (deltaY / viewport.scale);\r\n                    cornerstone.setViewport(element, viewport);\r\n\r\n                    document.getElementById('bottomleft').textContent = \"WW/WC:\" + Math.round(viewport.voi.windowWidth)\r\n                        + \"/\" + Math.round(viewport.voi.windowCenter);\r\n\r\n                } else if (mouseButton === 2) {\r\n                    let viewport = cornerstone.getViewport(element);\r\n                    viewport.translation.x += (deltaX / viewport.scale);\r\n                    viewport.translation.y += (deltaY / viewport.scale);\r\n                    cornerstone.setViewport(element, viewport);\r\n\r\n                } else if (mouseButton === 3) {\r\n                    let viewport = cornerstone.getViewport(element);\r\n                    viewport.scale += (deltaY / 100);\r\n                    cornerstone.setViewport(element, viewport);\r\n                    document.getElementById('bottomright').textContent = \"Zoom:\" + viewport.scale + \"x\";\r\n                }\r\n            }\r\n\r\n            function mouseUpHandler() {\r\n                document.removeEventListener('mousemove', mouseMoveHandler);\r\n                document.removeEventListener('mouseup', mouseUpHandler);\r\n            }\r\n            document.addEventListener('mousemove', mouseMoveHandler);\r\n            document.addEventListener('mouseup', mouseUpHandler);\r\n        });\r\n\r\n    }\r\n\r\n    reductionOn(){\r\n        this.element.style.width='256px';\r\n        this.element.style.height='256px';\r\n        cornerstone.resize(this.element);\r\n    }\r\n    expansionOn(){\r\n        this.element.style.width='512px';\r\n        this.element.style.height='512px';\r\n        cornerstone.resize(this.element);\r\n\r\n    }\r\n     invertOn(){\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.invert=!viewport.invert;\r\n        cornerstone.setViewport(this.element,viewport);\r\n    }\r\n     interpolationOn(){\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.pixelReplication = !viewport.pixelReplication;\r\n        cornerstone.setViewport(this.element, viewport);\r\n    }\r\n      hflipOn(){\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.hflip = !viewport.hflip;\r\n        cornerstone.setViewport(this.element, viewport);\r\n    }\r\n     vflipOn(){\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.vflip = !viewport.vflip;\r\n        cornerstone.setViewport(this.element, viewport);\r\n    }\r\n     rotateOn() {\r\n        const viewport = cornerstone.getViewport(this.element);\r\n        viewport.rotation += 90;\r\n        cornerstone.setViewport(this.element, viewport);\r\n    }\r\n\r\n\r\n\r\n    //렌더링\r\n    render() {\r\n        return (\r\n            <div id =\"outsideWrapper\" className={\"outsideWrapper\"}>\r\n                <div>File Select =>\r\n                <input type=\"file\" onChange={(e) => {\r\n                    handleFileChange(e)\r\n                }} />&nbsp;&nbsp;\r\n                </div>\r\n                <div>Directory Select =>\r\n                <input type=\"file\" id=\"filepicker\" name=\"fileList\" webkitdirectory={\"\"} directory={\"\"} multiple\r\n                       onChange={(e)=>{\r\n                           imageIdList(e);\r\n                       }}/>\r\n                </div>\r\n                <ul id=\"listing\"></ul>\r\n\r\n                <button onClick={()=>{handle()}}>TEST</button>\r\n                    <div>\r\n                        <button onClick={() => {angleOn()}}>Angle</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {lengthOn()}}>Length</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {drawCircle()}}>Circle</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {drawRectangle()}}>Rectangle</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {eraserOn()}}>Erase</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.reductionOn()}}>256x256</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.expansionOn()}}>512x512</button>&nbsp;&nbsp;\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={() => {this.invertOn()}}>Toggle Invert</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.interpolationOn()}}>Toggle Interpolation</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.hflipOn()}}>Horizontal Flip</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.vflipOn()}}>Vertical Flip</button>&nbsp;&nbsp;\r\n                        <button onClick={() => {this.rotateOn()}}>Rotate 90</button>&nbsp;&nbsp;\r\n                    </div>\r\n\r\n                    <div>\r\n\r\n                    <button onClick={()=>{draw()}}>draw</button>\r\n\r\n                    </div>\r\n\r\n                <div>\r\n                    <ul>\r\n                        <li>Left click drag - window/level</li>\r\n                        <li>Middle Mouse button drag - pan</li>\r\n                        <li>Right click drag - zoom</li>\r\n                        <li>Mouse wheel - scroll images</li>\r\n                        <li>Double Click - save pixel/voxel</li>\r\n                    </ul>\r\n                </div>\r\n\r\n\r\n                <div id=\"dicomImageWrapper\" className=\"wrapper\"\r\n                     onContextMenu=\"return false\" onWheel={(e)=>{\r\n                }} >\r\n                        <div id=\"dicomImage\" className=\"viewportElement\"\r\n                             ref={input => {\r\n                                 this.element = input;}}>\r\n                            <canvas id =\"myCanvas\" className={\"canvas\"} width={512} height={512} />\r\n                        </div>\r\n                    <div id=\"topleft\" className=\"overlay\" className=\"topleft\">\r\n                        Patient Name:\r\n                        Patient Sex:\r\n                    </div>\r\n                    <div id=\"topright\" className=\"overlay\" className=\"topright\">\r\n\r\n                        Modality :\r\n                    </div>\r\n                    <div id=\"bottomleft\" className=\"overlay\" className=\"bottomleft\">\r\n                        WW/WC:\r\n                    </div>\r\n                    <div id=\"bottomright\" className=\"overlay\" className=\"bottomright\">\r\n                        Zoom:\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div><span id=\"coords\"></span></div>\r\n                <div><span id=\"voxelCoords\">voxel</span></div>\r\n\r\n                <div><span id=\"pixelValue\"></span></div>\r\n                <div><span id=\"voxelValue\"></span></div>\r\n\r\n                <div><span id=\"patient\">Patient ID : </span></div>\r\n                <div><span id=\"modality\">Modality : </span></div>\r\n                <br></br>\r\n                <div id =\"info\">\r\n                    <div><span id=\"studyUID\">Study UID :</span></div>\r\n                    <div><span id=\"seriesUID\">Series UID :</span></div>\r\n                    <div><span id=\"instanceUID\">Instance UID : </span></div>\r\n                    <div><span id=\"frameUID\">Frame of Reference UID : </span></div>\r\n                </div>\r\n                <br></br>\r\n                <div id=\"voxel\">\r\n                    <div><span id=\"imageOrientation\">Image Orientation :</span></div>\r\n                    <div><span id=\"pixelSpacing\">Pixel Spacing :</span></div>\r\n                    <div><span id=\"imagePosition\">Image Position : </span></div>\r\n                </div>\r\n                <br></br>\r\n                <div id=\"voxelCal\">\r\n                    <div><span id=\"Sxyz\"></span></div>\r\n                    <div><span id=\"Xxyz\"></span></div>\r\n                    <div><span id=\"Yxyz\"></span></div>\r\n                    <div><span id=\"Dij\"></span></div>\r\n\r\n                </div>\r\n                <br></br>\r\n                <div id = \"pixelCal\">\r\n                    <div><span id = \"struct\">Struct :</span></div>\r\n                    <br></br>\r\n                    <div><span id = \"str\">str :</span></div>\r\n                    <br></br>\r\n                    <div><span id = \"vPx\">vPx : </span></div>\r\n                    <br></br>\r\n                    <div><span id = \"vPy\">vPy : </span></div>\r\n                </div>\r\n                <br></br>\r\n                <div><span id=\"contour\">contour data :</span></div>\r\n\r\n                <div id=\"point\">\r\n                    <div id=\"pi\">Pi : </div>\r\n                    <br></br>\r\n                    <div id=\"pj\">Pj : </div>\r\n                </div>\r\n\r\n                <br></br> <br></br> <br></br> <br></br>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainUIElements\r\n\r\n\r\n","import \"./MainUI.css\"\r\nimport \"./MainUI.js\"\r\nimport * as cornerstoneTools from \"cornerstone-tools\";\r\nimport {updateTheImage} from \"./loadData\";\r\n\r\nexport {angleOn,lengthOn,eraserOn,drawCircle , drawRectangle}\r\n\r\n    function angleOn(){\r\n        const AngleTool = cornerstoneTools.AngleTool;\r\n        cornerstoneTools.addTool(AngleTool)\r\n        cornerstoneTools.setToolActive('Angle', { mouseButtonMask: 1 })\r\n    }\r\n\r\n    function lengthOn(){\r\n        const LengthTool = cornerstoneTools.LengthTool;\r\n        cornerstoneTools.addTool(LengthTool)\r\n        cornerstoneTools.setToolActive(\"Length\", {mouseButtonMask: 1})\r\n    }\r\n\r\n    function eraserOn(){\r\n        const EraserTool = cornerstoneTools.EraserTool;\r\n        cornerstoneTools.addTool(EraserTool);\r\n        cornerstoneTools.setToolActive(\"Eraser\", {mouseButtonMask: 1})\r\n    }\r\n\r\nfunction drawCircle(){\r\n    const EllipticalRoiTool = cornerstoneTools.EllipticalRoiTool;\r\n    cornerstoneTools.addTool(EllipticalRoiTool)\r\n    cornerstoneTools.setToolActive('EllipticalRoi', { mouseButtonMask: 1 })\r\n}\r\n\r\n\r\nfunction drawRectangle(){\r\n    const RectangleRoiTool = cornerstoneTools.RectangleRoiTool;\r\n    cornerstoneTools.addTool(RectangleRoiTool)\r\n    cornerstoneTools.setToolActive('RectangleRoi', { mouseButtonMask: 1 })\r\n}\r\n\r\n/*\r\n\r\n            for (let i = 0; i < 119; i++) {\r\n                if (e.wheelDelta < 0 || e.detail > 0) {\r\n                    if (currentImageIndex === i) {\r\n                        if (i < 119)\r\n                            updateTheImage(i++);\r\n                        else\r\n                            updateTheImage(118);\r\n                    }\r\n                } else {\r\n                    if (currentImageIndex === i) {\r\n                        if (i >= 0)\r\n                            updateTheImage(i--);\r\n                        else\r\n                            updateTheImage(0)\r\n                    }\r\n                }\r\n\r\n            }\r\n            */\r\n","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport MainUIElements from \"./main/MainUI\";\r\n\r\nclass App extends React.Component{\r\n  render(){\r\n    return <div>\r\n      <MainUIElements />\r\n    </div>\r\n\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}